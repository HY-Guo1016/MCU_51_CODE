C51 COMPILER V9.60.0.0   MAIN                                                              03/06/2023 22:38:52 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN ..\Output\main.obj
COMPILER INVOKED BY: d:\Keil_v5\C51\BIN\C51.EXE ..\Source\main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(..\Li
                    -stings\main.lst) OBJECT(..\Output\main.obj)

line level    source

   1          #include <reg51.h>
   2          #include "delay.h"
   3          #include "display.h"
   4          #include "key.h"
   5          
   6          void Timer0_Init(void);
   7          
   8          void main()
   9          {
  10   1              LEDBUF[7] = 23;
  11   1              LEDBUF[6] = 23;
  12   1              LEDBUF[5] = 23;
  13   1              LEDBUF[4] = 23;
  14   1              LEDBUF[3] = 23;
  15   1              LEDBUF[2] = 23;
  16   1              Timer0_Init();
  17   1              while(1)
  18   1              {
  19   2                      switch(key_scan())
  20   2                      {
  21   3                              case 4:
  22   3                                      LEDBUF[0] = 4/10;
  23   3                                      LEDBUF[1] = 4%10;
  24   3                                      break;
  25   3                                              
  26   3                              case 5:
  27   3                                      LEDBUF[0] = 5/10;
  28   3                                      LEDBUF[1] = 5%10;;
  29   3                                      break;
  30   3                                                              
  31   3                              case 6:
  32   3                                      LEDBUF[0] = 6/10;
  33   3                                      LEDBUF[1] = 6%10;;
  34   3                                      break;
  35   3                                                      
  36   3                              case 7:
  37   3                                      LEDBUF[0] = 7/10;
  38   3                                      LEDBUF[1] = 7%10;
  39   3                                      break;
  40   3                                              
  41   3                              case 8:
  42   3                                      LEDBUF[0] = 8/10;
  43   3                                      LEDBUF[1] = 8%10;
  44   3                                      break;
  45   3                                                              
  46   3                              case 9:
  47   3                                      LEDBUF[0] = 9/10;
  48   3                                      LEDBUF[1] = 9%10;
  49   3                                      break;
  50   3                                                      
  51   3                              case 10:
  52   3                                      LEDBUF[0] = 10/10;
  53   3                                      LEDBUF[1] = 10%10;
  54   3                                      break;
C51 COMPILER V9.60.0.0   MAIN                                                              03/06/2023 22:38:52 PAGE 2   

  55   3              
  56   3                              case 11:
  57   3                                      LEDBUF[0] = 11/10;
  58   3                                      LEDBUF[1] = 11%10;
  59   3                                      break;
  60   3                                                              
  61   3                              case 12:
  62   3                                      LEDBUF[0] = 12/10;
  63   3                                      LEDBUF[1] = 12%10;
  64   3                                      break;
  65   3                                                      
  66   3                              case 13:
  67   3                                      LEDBUF[0] = 13/10;
  68   3                                      LEDBUF[1] = 13%10;
  69   3                                      break;
  70   3                                              
  71   3                              case 14:
  72   3                                      LEDBUF[0] = 14/10;
  73   3                                      LEDBUF[1] = 14%10;
  74   3                                      break;
  75   3                                                      
  76   3                              case 15:
  77   3                                      LEDBUF[0] = 15/10;
  78   3                                      LEDBUF[1] = 15%10;
  79   3                                      break;
  80   3                                              
  81   3                              case 16:
  82   3                                      LEDBUF[0] = 16/10;
  83   3                                      LEDBUF[1] = 16%10;
  84   3                                      break;
  85   3                                                              
  86   3                              case 17:
  87   3                                      LEDBUF[0] = 17/10;
  88   3                                      LEDBUF[1] = 17%10;
  89   3                                      break;
  90   3                                                      
  91   3                              case 18:
  92   3                                      LEDBUF[0] = 18/10;
  93   3                                      LEDBUF[1] = 18%10;
  94   3                                      break;
  95   3                              
  96   3                              case 19:
  97   3                                      LEDBUF[0] = 19/10;
  98   3                                      LEDBUF[1] = 19%10;
  99   3                                      break;
 100   3                              default:break;
 101   3                      }
 102   2      
 103   2              }
 104   1      
 105   1      }
 106          
 107          
 108          void Timer0_Init(void)          //1毫秒@11.0592MHz
 109          {
 110   1              TMOD &= 0xF0;                   //设置定时器模式
 111   1              TMOD |= 0x01;                   //设置定时器模式
 112   1              TL0 = 0x66;                             //设置定时初始值
 113   1              TH0 = 0xFC;                             //设置定时初始值
 114   1              TF0 = 0;                                //清除TF0标志
 115   1              ET0 = 1;
 116   1              EA = 1;
C51 COMPILER V9.60.0.0   MAIN                                                              03/06/2023 22:38:52 PAGE 3   

 117   1              TR0 = 1;                                //定时器0开始计时
 118   1      }
 119          
 120          void Timer0_ISR() interrupt 1
 121          {
 122   1              TR0 = 0;
 123   1              display();
 124   1              TL0 = 0x66;                             //设置定时初始值
 125   1              TH0 = 0xFC;                             //设置定时初始值
 126   1              TR0 = 1;
 127   1      
 128   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    305    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
